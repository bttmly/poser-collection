!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.collection=a()}}}(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a){return a(o,!0)}if(i){return i(o,!0)}var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++){s(r[o])}return s})({1:[function(require,module,exports){
/*! collection- v0.0.0 - MIT license */
;"use strict";var poser=require("poser");var Collection=poser.Array();var fast=require("fast-poser")(Collection);fast.every=require("./fast-every");var cp=Collection.prototype;function isCollection(obj){return obj instanceof Collection}function isFunction(obj){return typeof obj==="function"}function isArrayLike(obj){return Object.prototype.toString.call(obj)==="[object Array]"}function keys(obj){return factory(Object.keys(obj))}function matches(against,obj){return keys(against).every(function(key){return obj[key]===against[key]})}function flip(fn){return function(a,b){return fn.call(this,b,a)}}function get(prop){return function(obj){return obj[prop]}}function not(fn){return function(){return !fn.apply(this,arguments)}}function contains(obj,value){return cp.indexOf.call(obj,value)>-1}function isTruthy(value){return !!value}function identity(value){return value}function iterator(value){if(value==null){return identity}else{if(isFunction(value)){return value}else{return get(value)}}}function flatten(arr){return arr.reduce(function(acc,item){return acc.chainPush.apply(acc,isArrayLike(item)?flatten(item):[item])},new Collection())}function invoke(obj,fnOrMethod){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}args=args.slice(2);return(isFunction(fnOrMethod)?fnOrMethod:obj[fnOrMethod]).apply(obj,args)}function collectify(headers,rows){return rows.map(function(item){return item.reduce(function(model,val,i){model[headers[i]]=val;return model},{})})}var containsFlip=flip(contains);var partial=fast.partial;["push","pop","shift","unshift"].forEach(function(method){var name="chain"+method.charAt(0).toUpperCase()+method.slice(1);var original=Collection.prototype[method];Collection.prototype[name]=function(){original.apply(this,arguments);return this}});["forEach","map","reduce","filter","some","every","indexOf","lastIndexOf"].forEach(function(method){var name="native"+method.charAt(0).toUpperCase()+method.slice(1);var original=Collection.prototype[method];delete Collection.prototype[method];Collection.prototype[name]=function(){return original.apply(this,arguments)}});cp.forEach=function(fn,thisArg){return fast.forEach(this,fn,thisArg)};cp.each=cp.forEach;cp.map=function(fn,thisArg){return fast.map(this,fn,thisArg)};cp.collect=cp.map;cp.reduce=function(fn,initialValue,thisArg){return fast.reduce(this,fn,initialValue,thisArg)};cp.reduceRight=function(fn,initialValue,thisArg){return fast.reduceRight(this,fn,initialValue,thisArg)};cp.filter=function(fn,thisArg){return this.reduce(function(acc,item,i,arr){if(fn.call(thisArg,item,i,arr)){acc.push(item)}return acc},new Collection())};cp.select=cp.filter;cp.indexOf=function(target){return fast.indexOf(this,target)};cp.lastIndexOf=function(target){return fast.lastIndexOf(this,target)};cp.some=function(fn,thisContext){return fast.some(this,fn,thisContext)};cp.every=function(fn,thisContext){return fast.every(this,fn,thisContext)};cp.forEachRight=function(fn){this.slice().reverse().each(fn)};cp.eachRight=cp.forEachRight;cp.where=function(obj){return this.filter(partial(matches,obj))};cp.whereNot=function(obj){return this.filter(not(partial(matches,obj)))};cp.find=function(testFn){var result=null;this.some(function(item,i,arr){var test=testFn(item,i,arr);if(test){result=item;return true}});return result};cp.findNot=function(testFn){return this.find(not(testFn))};cp.findWhere=function(obj){return this.find(partial(matches,obj))};cp.findWhereNot=function(obj){return this.find(not(partial(matches,obj)))};cp.pluck=function(prop){return this.map(get(prop))};cp.pick=function(){var props=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return this.map(function(el){var obj={};props.each(function(prop){obj[prop]=el[prop]});return obj})};cp.reject=function(testFn){return this.filter(not(testFn))};cp.invoke=function(fnOrMethod){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}this.each(function(item){invoke.apply(null,[item].concat(args))});return this};cp.mapInvoke=function(fnOrMethod){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return this.map(function(item){return invoke.apply(null,[item].concat(args))})};cp.without=function(){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return this.reject(partial(contains,args))};cp.remove=cp.without;cp.contains=function(obj){return contains(this,obj)};cp.tap=function(fn){fn(this);return this};cp.clone=function(){return fast.clone(this)};cp.first=function(num){if(num==null){return this[0]}return this.slice(0,num)};cp.head=cp.first;cp.take=cp.first;cp.initial=function(num){if(num==null){num=1}return this.slice(0,this.length-num)};cp.last=function(num){if(num==null){return this[this.length-1]}return this.slice(0,-1*num)};cp.rest=function(num){if(num==null){num=1}return this.slice(num)};cp.tail=cp.rest;cp.drop=cp.rest;cp.compact=function(){return this.filter(isTruthy)};cp.flatten=function(){return flatten(this)};cp.partition=function(testFn){return this.reduce(function(acc,item,i,arr){(testFn(item,i,arr)?acc[0]:acc[1]).push(item);return acc},factory(factory(),factory()))};cp.union=function(){return cp.concat.apply(this,arguments).unique()};cp.intersection=function(){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return this.filter(function(el){return args.every(partial(containsFlip,el))})};cp.difference=function(){var result=new Collection();var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return this.filter(function(el){return args.every(not(partial(containsFlip,el)))})};cp.unique=function(){return this.reduce(function(acc,item){if(!acc.contains(item)){return acc.chainPush(item)}return acc},new Collection())};cp.uniq=cp.unique;cp.sortBy=function(itr,ctx){itr=iterator(itr);return cp.pluck.call(this.map(function(val,i,obj){return{val:val,i:i,param:itr.call(ctx,val,i,obj)}}).sort(function(left,right){var a=left.param;var b=right.param;if(a!==b){if(a>b||a===undefined){return 1}if(a<b||b===undefined){return -1}}return left.index-right.index}),"val")};cp.zip=function(){var args=new Collection(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return args.chainUnshift(this).map(factoryOne).sortBy("length").last().map(function(item,i){return args.map(get(i))})};cp.min=function(prop){if(prop){return cp.min.call(this.pluck(prop))}return Math.min.apply(Math,this)};cp.max=function(prop){if(prop){return cp.max.call(this.pluck(prop))}return Math.max.apply(Math,this)};cp.extent=function(prop){return[this.min(prop),this.max(prop)]};cp.toArray=function(){return Array.prototype.slice.call(this)};cp.toArrayDeep=function(){return this.toArray().map(function(item){if(isCollection(item)){item=item.toArrayDeep()}return item})};cp.asRowsOf=function(headers){return collectify(headers,this)};cp.asHeadersOf=function(rows){if(!(rows instanceof Collection)){rows=factory(rows)}return collectify(this,rows)};function factory(){var len=arguments.length;var args;var ret;if(len===0){return new Collection()}if(len===1&&isArrayLike(arguments[0])){ret=new Collection();cp.push.apply(ret,arguments[0]);return ret}if(len===1&&typeof arguments[0]==="number"){return new Collection(arguments[0])}args=new Collection(len);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return factory(args)}function factoryOne(){return factory(arguments[0])}function factoryDeep(arr){return new Collection().concat(arr).map(function(item){if(isArrayLike(item)){item=factoryDeep(item)}return item})}factory.ctor=Collection;factory.proto=Collection.prototype;factory.isCollection=isCollection;factory.isArrayLike=isArrayLike;factory.one=factoryOne;factory.deep=factoryDeep;module.exports=factory},{"./fast-every":2,"fast-poser":5,poser:6}],2:[function(require,module,exports){function bindInternal3(func,thisContext){return function(a,b,c){return func.call(thisContext,a,b,c)}}module.exports=function fastEvery(subject,fn,thisContext){var length=subject.length,iterator=thisContext!==undefined?bindInternal3(fn,thisContext):fn,i;for(i=0;i<length;i++){if(!iterator(subject[i],i,subject)){return false}}return true}},{}],3:[function(require,module,exports){var indexOf=require("indexof");var Object_keys=function(obj){if(Object.keys){return Object.keys(obj)}else{var res=[];for(var key in obj){res.push(key)}return res}};var forEach=function(xs,fn){if(xs.forEach){return xs.forEach(fn)}else{for(var i=0;i<xs.length;i++){fn(xs[i],i,xs)}}};var defineProp=(function(){try{Object.defineProperty({},"_",{});return function(obj,name,value){Object.defineProperty(obj,name,{writable:true,enumerable:false,configurable:true,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}());var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(code){if(!(this instanceof Script)){return new Script(code)}this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context)){throw new TypeError("needs a 'context' argument.")}var iframe=document.createElement("iframe");if(!iframe.style){iframe.style={}}iframe.style.display="none";document.body.appendChild(iframe);var win=iframe.contentWindow;var wEval=win.eval,wExecScript=win.execScript;if(!wEval&&wExecScript){wExecScript.call(win,"null");wEval=win.eval}forEach(Object_keys(context),function(key){win[key]=context[key]});forEach(globals,function(key){if(context[key]){win[key]=context[key]}});var winKeys=Object_keys(win);var res=wEval.call(win,this.code);forEach(Object_keys(win),function(key){if(key in context||indexOf(winKeys,key)===-1){context[key]=win[key]}});forEach(globals,function(key){if(!(key in context)){defineProp(context,key,win[key])}});document.body.removeChild(iframe);return res};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context);var res=this.runInContext(ctx);forEach(Object_keys(ctx),function(key){context[key]=ctx[key]});return res};forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}});exports.createScript=function(code){return exports.Script(code)};exports.createContext=Script.createContext=function(context){var copy=new Context();if(typeof context==="object"){forEach(Object_keys(context),function(key){copy[key]=context[key]})}return copy}},{indexof:4}],4:[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf){return arr.indexOf(obj)}for(var i=0;i<arr.length;++i){if(arr[i]===obj){return i}}return -1}},{}],5:[function(require,module,exports){module.exports=function(Ctor){var ArrayLike=Ctor||Array;function Fast(value){if(!(this instanceof Fast)){return new Fast(value)}this.value=value||[]}Fast.prototype.concat=function Fast$concat(){var length=this.value.length,arr=new ArrayLike(length),i,item,childLength,j;for(i=0;i<length;i++){arr[i]=this.value[i]}length=arguments.length;for(i=0;i<length;i++){item=arguments[i];if(ArrayLike.isArray(item)){childLength=item.length;for(j=0;j<childLength;j++){arr.push(item[j])}}else{arr.push(item)}}return new Fast(arr)};Fast.prototype.map=function Fast$map(fn,thisContext){return new Fast(Fast.map(this.value,fn,thisContext))};Fast.prototype.filter=function Fast$filter(fn,thisContext){return new Fast(Fast.filter(this.value,fn,thisContext))};Fast.prototype.reduce=function Fast$reduce(fn,initialValue,thisContext){return Fast.reduce(this.value,fn,initialValue,thisContext)};Fast.prototype.reduceRight=function Fast$reduceRight(fn,initialValue,thisContext){return Fast.reduceRight(this.value,fn,initialValue,thisContext)};Fast.prototype.forEach=function Fast$forEach(fn,thisContext){Fast.forEach(this.value,fn,thisContext);return this};Fast.prototype.some=function Fast$some(fn,thisContext){return Fast.some(this.value,fn,thisContext)};Fast.prototype.indexOf=function Fast$indexOf(target,fromIndex){return Fast.indexOf(this.value,target,fromIndex)};Fast.prototype.lastIndexOf=function Fast$lastIndexOf(target,fromIndex){return Fast.lastIndexOf(this.value,target,fromIndex)};Fast.prototype.reverse=function Fast$reverse(){return new Fast(this.value.reverse())};Fast.prototype.valueOf=function Fast$valueOf(){return this.value};Fast.prototype.toJSON=function Fast$toJSON(){return this.value};Object.defineProperty(Fast.prototype,"length",{get:function(){return this.value.length}});Fast.bind=function fastBind(fn,thisContext){var boundLength=arguments.length-2,boundArgs;if(boundLength>0){boundArgs=new ArrayLike(boundLength);for(var i=0;i<boundLength;i++){boundArgs[i]=arguments[i+2]}if(thisContext!==undefined){return function(){var length=arguments.length,args=new ArrayLike(boundLength+length),i;for(i=0;i<boundLength;i++){args[i]=boundArgs[i]}for(i=0;i<length;i++){args[boundLength+i]=arguments[i]}return applyWithContext(fn,thisContext,args)}}else{return function(){var length=arguments.length,args=new ArrayLike(boundLength+length),i;for(i=0;i<boundLength;i++){args[i]=boundArgs[i]}for(i=0;i<length;i++){args[boundLength+i]=arguments[i]}return applyNoContext(fn,args)}}}if(thisContext!==undefined){return function(){return applyWithContext(fn,thisContext,arguments)}}else{return function(){return applyNoContext(fn,arguments)}}};Fast.partial=function fastPartial(fn){var boundLength=arguments.length-1,boundArgs;boundArgs=new ArrayLike(boundLength);for(var i=0;i<boundLength;i++){boundArgs[i]=arguments[i+1]}return function(){var length=arguments.length,args=new ArrayLike(boundLength+length),i;for(i=0;i<boundLength;i++){args[i]=boundArgs[i]}for(i=0;i<length;i++){args[boundLength+i]=arguments[i]}return applyWithContext(fn,this,args)}};Fast.partialConstructor=function fastPartialConstructor(fn){var boundLength=arguments.length-1,boundArgs;boundArgs=new ArrayLike(boundLength);for(var i=0;i<boundLength;i++){boundArgs[i]=arguments[i+1]}return function partialed(){var length=arguments.length,args=new ArrayLike(boundLength+length),i;for(i=0;i<boundLength;i++){args[i]=boundArgs[i]}for(i=0;i<length;i++){args[boundLength+i]=arguments[i]}var thisContext=Object.create(fn.prototype),result=applyWithContext(fn,thisContext,args);if(result!=null&&(typeof result==="object"||typeof result==="function")){return result}else{return thisContext}}};Fast.clone=function clone(input){if(!input||typeof input!=="object"){return input}else{if(ArrayLike.isArray(input)){return Fast.cloneArray(input)}else{return Fast.cloneObject(input)}}};Fast.cloneArray=function fastCloneArray(input){var length=input.length,sliced=new ArrayLike(length),i;for(i=0;i<length;i++){sliced[i]=input[i]}return sliced};Fast.cloneObject=function fastCloneObject(input){var keys=Object.keys(input),total=keys.length,cloned={},i,key;for(i=0;i<total;i++){key=keys[i];cloned[key]=input[key]}return cloned};Fast.concat=function fastConcat(){var length=arguments.length,arr=new ArrayLike(),i,item,childLength,j;for(i=0;i<length;i++){item=arguments[i];if(ArrayLike.isArray(item)){childLength=item.length;for(j=0;j<childLength;j++){arr.push(item[j])}}else{arr.push(item)}}return arr};Fast.map=function fastMap(subject,fn,thisContext){var length=subject.length,result=new ArrayLike(length),iterator=thisContext!==undefined?bindInternal3(fn,thisContext):fn,i;for(i=0;i<length;i++){result[i]=iterator(subject[i],i,subject)}return result};Fast.filter=function fastFilter(subject,fn,thisContext){var length=subject.length,result=new ArrayLike(),iterator=thisContext!==undefined?bindInternal3(fn,thisContext):fn,i;for(i=0;i<length;i++){if(iterator(subject[i],i,subject)){result.push(subject[i])}}return result};Fast.reduce=function fastReduce(subject,fn,initialValue,thisContext){var length=subject.length,iterator=thisContext!==undefined?bindInternal4(fn,thisContext):fn,i,result;if(initialValue===undefined){i=1;result=subject[0]}else{i=0;result=initialValue}for(;i<length;i++){result=iterator(result,subject[i],i,subject)}return result};Fast.reduceRight=function fastReduce(subject,fn,initialValue,thisContext){var length=subject.length,iterator=thisContext!==undefined?bindInternal4(fn,thisContext):fn,i,result;if(initialValue===undefined){i=length-2;result=subject[length-1]}else{i=length-1;result=initialValue}for(;i>=0;i--){result=iterator(result,subject[i],i,subject)}return result};Fast.forEach=function fastForEach(subject,fn,thisContext){var length=subject.length,iterator=thisContext!==undefined?bindInternal3(fn,thisContext):fn,i;for(i=0;i<length;i++){iterator(subject[i],i,subject)}};Fast.some=function fastSome(subject,fn,thisContext){var length=subject.length,iterator=thisContext!==undefined?bindInternal3(fn,thisContext):fn,i;for(i=0;i<length;i++){if(iterator(subject[i],i,subject)){return true}}return false};Fast.indexOf=function fastIndexOf(subject,target,fromIndex){var length=subject.length,i=0;if(typeof fromIndex==="number"){i=fromIndex;if(i<0){i+=length;if(i<0){i=0}}}for(;i<length;i++){if(subject[i]===target){return i}}return -1};Fast.lastIndexOf=function fastLastIndexOf(subject,target,fromIndex){var length=subject.length,i=length-1;if(typeof fromIndex==="number"){i=fromIndex;if(i<0){i+=length}}for(;i>=0;i--){if(subject[i]===target){return i}}return -1};Fast["try"]=function fastTry(fn){try{return fn()}catch(e){if(!(e instanceof Error)){return new Error(e)}else{return e}}};Fast.attempt=Fast["try"];Fast.apply=function fastApply(subject,thisContext,args){return thisContext!==undefined?applyWithContext(subject,thisContext,args):applyNoContext(subject,args)};function applyWithContext(subject,thisContext,args){switch(args.length){case 0:return subject.call(thisContext);case 1:return subject.call(thisContext,args[0]);case 2:return subject.call(thisContext,args[0],args[1]);case 3:return subject.call(thisContext,args[0],args[1],args[2]);case 4:return subject.call(thisContext,args[0],args[1],args[2],args[3]);case 5:return subject.call(thisContext,args[0],args[1],args[2],args[3],args[4]);case 6:return subject.call(thisContext,args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return subject.call(thisContext,args[0],args[1],args[2],args[3],args[4],args[5],args[6]);case 8:return subject.call(thisContext,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);default:return subject.apply(thisContext,args)}}function applyNoContext(subject,args){switch(args.length){case 0:return subject();case 1:return subject(args[0]);case 2:return subject(args[0],args[1]);case 3:return subject(args[0],args[1],args[2]);case 4:return subject(args[0],args[1],args[2],args[3]);case 5:return subject(args[0],args[1],args[2],args[3],args[4]);case 6:return subject(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return subject(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);case 8:return subject(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);default:return subject.apply(undefined,args)}}function bindInternal3(func,thisContext){return function(a,b,c){return func.call(thisContext,a,b,c)}}function bindInternal4(func,thisContext){return function(a,b,c,d){return func.call(thisContext,a,b,c,d)}}return Fast}},{}],6:[function(require,module,exports){var poser=require("./src/node");module.exports=poser;["Array","Function","Object","Date","String"].forEach(pose);function pose(type){poser[type]=function poseComputedType(){return poser(type)}}},{"./src/node":7}],7:[function(require,module,exports){var vm=require("vm");function poser(type){var sandbox={};vm.runInNewContext("stolen="+type+";",sandbox,"poser.vm");return sandbox.stolen}module.exports=poser},{vm:3}],8:[function(require,module,exports){module.exports=require("./lib/collection.js")},{"./lib/collection.js":1}]},{},[8])(8)});