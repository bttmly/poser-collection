!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.collection=n()}}(function(){var define,module,exports;return function n(t,r,e){function u(o,c){if(!r[o]){if(!t[o]){var f="function"==typeof require&&require;if(!c&&f)return f(o,!0);if(i)return i(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var s=r[o]={exports:{}};t[o][0].call(s.exports,function(n){var r=t[o][1][n];return u(r?r:n)},s,s.exports,n,t,r,e)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(n,t){"use strict";function r(n){return n instanceof O}function e(n){return"function"==typeof n}function u(n){return"[object Array]"===Object.prototype.toString.call(n)}function i(){var n,t=arguments.length;if(0===t)return new O;if(1===t&&u(arguments[0]))return(new O).concat(arguments[0]);if(1===t&&"number"==typeof arguments[0])return new O(arguments[0]);n=new O(t);for(var r=0;r<n.length;r++)n[r]=arguments[r];return i(n)}function o(){return i(arguments[0])}function c(n){return(new O).concat(n).map(function(n){return u(n)?c(n):n})}function f(n,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},n)}function a(n){return i(Object.keys(n))}function s(n,t){return a(n).every(function(r){return t[r]===n[r]})}function l(n){return function(t,r){return n.call(this,r,t)}}function h(n){return function(t){return t[n]}}function p(n){return function(){return!n.apply(this,arguments)}}function d(n,t){return E.indexOf.call(n,t)>-1}function m(n){return n}function v(n){return null==n?m:e(n)?n:h(n)}function g(n){return n.reduce(function(n,t){return n.chainPush.apply(n,u(t)?g(t):[t])},new O)}function y(n,t){for(var r=new O(arguments.length),u=0;u<r.length;u++)r[u]=arguments[u];return r=r.slice(2),(e(t)?t:n[t]).apply(n,r)}function x(n,t){return t.map(function(t){return t.reduce(function(t,r,e){return t[n[e]]=r,t},{})})}var w=n("poser"),O=w.Array(),b=n("./fast")(O),E=O.prototype,j=l(d),k=b.partial;["push","pop","shift","unshift"].forEach(function(n){var t="chain"+n.charAt(0).toUpperCase()+n.slice(1),r=E[n];E[t]=function(){return r.apply(this,arguments),this}}),["forEach","map","reduce","reduceRight","filter","some","every","indexOf","lastIndexOf"].forEach(function(n){var t="native"+n.charAt(0).toUpperCase()+n.slice(1),r=E[n];delete E[n],E[t]=function(){return r.apply(this,arguments)}}),E.forEach=function(n,t){return b.forEach(this,n,t)},E.each=E.forEach,E.map=function(n,t){return b.map(this,n,t)},E.collect=E.map,E.reduce=function(n,t,r){return b.reduce(this,n,t,r)},E.reduceRight=function(n,t,r){return b.reduceRight(this,n,t,r)},E.filter=function(n,t){return this.reduce(function(r,e,u,i){return n.call(t,e,u,i)&&r.push(e),r},new O)},E.select=E.filter,E.indexOf=function(n){return b.indexOf(this,n)},E.lastIndexOf=function(n){return b.lastIndexOf(this,n)},E.some=function(n,t){return b.some(this,n,t)},E.every=function(n,t){return b.every(this,n,t)},E.forEachRight=function(n){this.slice().reverse().each(n)},E.eachRight=E.forEachRight,E.where=function(n){return this.filter(k(s,n))},E.whereNot=function(n){return this.filter(p(k(s,n)))},E.find=function(n){var t=null;return this.some(function(r,e,u){var i=n(r,e,u);return i?(t=r,!0):void 0}),t},E.findNot=function(n){return this.find(p(n))},E.findWhere=function(n){return this.find(k(s,n))},E.findWhereNot=function(n){return this.find(p(k(s,n)))},E.pluck=function(n){return this.map(h(n))},E.pick=function(){for(var n=new O(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return this.map(function(t){var r={};return n.each(function(n){r[n]=t[n]}),r})},E.reject=function(n){return this.filter(p(n))},E.invoke=function(){return this.mapInvoke.apply(this,arguments),this},E.mapInvoke=function(){for(var n=new O(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return this.map(function(t){return y.apply(null,[t].concat(n))})},E.without=function(){for(var n=new O(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return this.reject(k(d,n))},E.remove=E.without,E.contains=function(n){return d(this,n)},E.tap=function(n){for(var t=new O(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return n(this,t.slice(1)),this},E.clone=function(){return b.clone(this)},E.first=function(n){return null==n?this[0]:this.slice(0,n)},E.head=E.first,E.take=E.first,E.initial=function(n){return null==n&&(n=1),this.slice(0,this.length-n)},E.last=function(n){return null==n?this[this.length-1]:this.slice(0,-1*n)},E.rest=function(n){return null==n&&(n=1),this.slice(n)},E.tail=E.rest,E.drop=E.rest,E.compact=function(){return this.filter(m)},E.flatten=function(){return g(this)},E.partition=function(n){return this.reduce(function(t,r,e,u){return(n(r,e,u)?t[0]:t[1]).push(r),t},i(i(),i()))},E.union=function(){return E.concat.apply(this,arguments).unique()},E.intersection=function(){for(var n=new O(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return this.filter(function(t){return n.every(k(j,t))})},E.difference=function(){for(var n=new O(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return this.filter(function(t){return n.every(p(k(j,t)))})},E.unique=function(){return this.reduce(function(n,t){return n.contains(t)?n:n.chainPush(t)},new O)},E.uniq=E.unique,E.sortBy=function(n,t){return n=v(n),E.pluck.call(this.map(function(r,e,u){return{val:r,i:e,param:n.call(t,r,e,u)}}).sort(function(n,t){var r=n.param,e=t.param;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.i-t.i}),"val")},E.zip=function(){for(var n=new O(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return n.chainUnshift(this).map(o).sortBy("length").last().map(function(t,r){return n.map(h(r))})},E.min=function(n){return n?E.min.call(this.pluck(n)):Math.min.apply(Math,this)},E.max=function(n){return n?E.max.call(this.pluck(n)):Math.max.apply(Math,this)},E.extent=function(n){return[this.min(n),this.max(n)]},E.toArray=function(){return[].concat(this)},E.toArrayDeep=function(){return this.toArray().map(function(n){return r(n)&&(n=n.toArrayDeep()),n})},E.asRowsOf=function(n){return x(n,this)},E.asHeadersOf=function(n){return n instanceof O||(n=i(n)),x(this,n)},i.ctor=O,i.proto=E,i.extend=f.bind(null,E),i.isCollection=r,i.isArrayish=u,i.one=o,i.deep=c,t.exports=i},{"./fast":2,poser:5}],2:[function(n,t){"use strict";function r(n,t){return function(r,e,u){return n.call(t,r,e,u)}}function e(n,t){return function(r,e,u,i){return n.call(t,r,e,u,i)}}function u(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2]);case 4:return n.call(t,r[0],r[1],r[2],r[3]);case 5:return n.call(t,r[0],r[1],r[2],r[3],r[4]);case 6:return n.call(t,r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return n.call(t,r[0],r[1],r[2],r[3],r[4],r[5],r[6]);case 8:return n.call(t,r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]);default:return n.apply(t,r)}}t.exports=function(n){return{forEach:function(n,t,e){var u,i=n.length,o=void 0!==e?r(t,e):t;for(u=0;i>u;u++)o(n[u],u,n)},map:function(t,e,u){var i,o=t.length,c=new n(o),f=void 0!==u?r(e,u):e;for(i=0;o>i;i++)c[i]=f(t[i],i,t);return c},filter:function(t,e,u){var i,o=t.length,c=new n,f=void 0!==u?r(e,u):e;for(i=0;o>i;i++)f(t[i],i,t)&&c.push(t[i]);return c},reduce:function(n,t,r,u){var i,o,c=n.length,f=void 0!==u?e(t,u):t;for(void 0===r?(i=1,o=n[0]):(i=0,o=r);c>i;i++)o=f(o,n[i],i,n);return o},reduceRight:function(n,t,r,u){var i,o,c=n.length,f=void 0!==u?e(t,u):t;for(void 0===r?(i=c-2,o=n[c-1]):(i=c-1,o=r);i>=0;i--)o=f(o,n[i],i,n);return o},indexOf:function(n,t,r){var e=n.length,u=0;for("number"==typeof r&&(u=r,0>u&&(u+=e,0>u&&(u=0)));e>u;u++)if(n[u]===t)return u;return-1},lastIndexOf:function(n,t,r){var e=n.length,u=e-1;for("number"==typeof r&&(u=r,0>u&&(u+=e));u>=0;u--)if(n[u]===t)return u;return-1},some:function(n,t,e){var u,i=n.length,o=void 0!==e?r(t,e):t;for(u=0;i>u;u++)if(o(n[u],u,n))return!0;return!1},every:function(n,t,e){var u,i=n.length,o=void 0!==e?r(t,e):t;for(u=0;i>u;u++)if(!o(n[u],u,n))return!1;return!0},clone:function(t){var r,e=t.length,u=new n(e);for(r=0;e>r;r++)u[r]=t[r];return u},partial:function(t){var r,e=arguments.length-1;r=new n(e);for(var i=0;e>i;i++)r[i]=arguments[i+1];return function(){var i,o=arguments.length,c=new n(e+o);for(i=0;e>i;i++)c[i]=r[i];for(i=0;o>i;i++)c[e+i]=arguments[i];return u(t,this,c)}}}}},{}],3:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var r in n)t.push(r);return t},forEach=function(n,t){if(n.forEach)return n.forEach(t);for(var r=0;r<n.length;r++)t(n[r],r,n)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(n,t,r){Object.defineProperty(n,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(n){return function(n,t,r){n[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(n){return this instanceof Script?void(this.code=n):new Script(n)};Script.prototype.runInContext=function(n){if(!(n instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,e=r.eval,u=r.execScript;!e&&u&&(u.call(r,"null"),e=r.eval),forEach(Object_keys(n),function(t){r[t]=n[t]}),forEach(globals,function(t){n[t]&&(r[t]=n[t])});var i=Object_keys(r),o=e.call(r,this.code);return forEach(Object_keys(r),function(t){(t in n||-1===indexOf(i,t))&&(n[t]=r[t])}),forEach(globals,function(t){t in n||defineProp(n,t,r[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(n){var t=Script.createContext(n),r=this.runInContext(t);return forEach(Object_keys(t),function(r){n[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(n){exports[n]=Script[n]=function(t){var r=Script(t);return r[n].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(n){return exports.Script(n)},exports.createContext=Script.createContext=function(n){var t=new Context;return"object"==typeof n&&forEach(Object_keys(n),function(r){t[r]=n[r]}),t}},{indexof:4}],4:[function(n,t){var r=[].indexOf;t.exports=function(n,t){if(r)return n.indexOf(t);for(var e=0;e<n.length;++e)if(n[e]===t)return e;return-1}},{}],5:[function(n,t){function r(n){e[n]=function(){return e(n)}}var e=n("./src/node");t.exports=e,["Array","Function","Object","Date","String"].forEach(r)},{"./src/node":6}],6:[function(n,t){"use strict";function r(n){var t={};return e.runInNewContext("stolen="+n+";",t,"poser.vm"),t.stolen}var e=n("vm");t.exports=r},{vm:3}]},{},[1])(1)});